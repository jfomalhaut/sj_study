<html>
  <head></head>
  <body>
    <div id="container"></div>


    <script>
      var products =[
        {id: 1, name: '사과', price: 1000, src: 'img1.jpg'},
        {id: 2, name: '귤', price: 2000, src: 'img2.jpg'},
        {id: 3, name: '포도', price: 3000, src: 'img3.jpg'},
        {id: 4, name: '감', price: 4000, src: 'img4.jpg'},
        {id: 5, name: '배', price: 5000, src: 'img5.jpg'},
        {id: 6, name: '멜론', price: 6000, src: 'img6.jpg'},
        {id: 7, name: '수박', price: 7000, src: 'img7.jpg'},
        {id: 8, name: '자두', price: 8000, src: 'img8.jpg'},
        {id: 9, name: '복숭아', price: 9000, src: 'img9.jpg'},
      ];

      var container = document.querySelector('#container');
      var productId;
      var product;
      var nf = new Intl.NumberFormat();


      init(); //내가 클릭한 id의 상품을 보여준다.


      function print() { //3번 출력
        text = `
        <div>
          <img src='img/${product.src}'>
          <h1>${product.name}</h1>
          <h3>${nf.format(product.price)}원</h3>
        <div>
        `
        container.innerHTML = text;
      }

      function findProduct() { //2번 상품찾기
        product = products.filter(item => item.id === productId)[0];
        console.log(product);
        print();
      } 



      function init() { //1번 id값 받아오기
        var url = window.location.search.substring(1);
        // id=1
        // window.location.search => ?xx
        // window.location.search.substring(1) =? xx
        productId = url.split('=')[1] * 1;
        findProduct();
      }

      



    </script>
  </body>
</html>